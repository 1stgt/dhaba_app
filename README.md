# ðŸ¥Ÿ Dhaba App MVP

A "street-ready" digital ordering system designed for local food stalls (Dhabas). 
Built with **Streamlit** (Python) for the frontend and **Google Sheets** as a zero-cost backend database.

---

## ðŸš€ Features

### 1. Customer Interface (Mobile Friendly)
- **Visual Menu**: Display items with images, prices, and categories (Momos, Drinks, etc.).
- **Shopping Cart**: Add items, view total bill, and remove items before checkout.
- **Order Placement**: Simple checkout form asking for Name/Table Number.
- **QR Code Access**: Customers can scan a QR code generated by the app to open the menu on their phones (Local Network support included).

### 2. Admin Dashboard
- **Secure Login**: Simple password protection (Default: `admin123`).
- **Live Order Tracking**: View incoming orders in real-time.
- **Status Management**: Update order status (Pending â†’ Preparing â†’ Ready â†’ Completed).
- **Sales Data**: (Planned) View simple analytics from Google Sheets.

### 3. Smart Data Handling
- **Mock Mode**: Works immediately without internet or API keys using local mock data.
- **Google Sheets Integration**: Seamlessly switch to real-time cloud database by adding `secrets.toml`.

---

## ðŸ› ï¸ Tech Stack

- **Frontend**: [Streamlit](https://streamlit.io/) (Python framework for data apps)
- **Backend/DB**: Google Sheets API (via `gspread`)
- **Utilities**: `qrcode` (for generating access codes), `pandas` (data manipulation)

---

## âš™ï¸ Installation & Setup

### Prerequisites
- Python 3.8 or higher installed.

### 1. Clone/Download
Download this project folder to your local machine.

### 2. Create Virtual Environment
It's recommended to use a virtual environment to keep dependencies clean.
```bash
# Windows
python -m venv venv
.\venv\Scripts\activate

# Mac/Linux
python3 -m venv venv
source venv/bin/activate
```

### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

---

## â–¶ï¸ How to Run

1. **Start the App**
   ```bash
   streamlit run app.py
   ```

2. **Access the App**
   - **Local Machine**: The terminal will show a Local URL (e.g., `http://localhost:8501`).
   - **Mobile Testing**: The terminal will show a **Network URL** (e.g., `http://192.168.1.5:8501`). Connect your phone to the same Wi-Fi and use this URL.

---

## ðŸ” Google Sheets Setup (Optional for Live Data)

To move from "Mock Data" to "Real Data":

1. **Create a Google Sheet**:
   - Create a new sheet named `Dhaba Data`.
   - Create two tabs: `Menu` and `Orders`.
   - **Menu Columns**: `Item`, `Price`, `Category`, `Image`.
   - **Orders Columns**: `OrderID`, `CustomerName`, `Items`, `Total`, `Status`, `Timestamp`.

2. **Google Cloud Console**:
   - Create a Project -> Enable Google Sheets API & Google Drive API.
   - Create a **Service Account** -> Download JSON key.
   - Share your Google Sheet with the `client_email` from the JSON key (Editor access).

3. **Configure Secrets**:
   - Copy `secrets.toml.example` to `.streamlit/secrets.toml`.
   - Paste the contents of your JSON key into `secrets.toml`.
   - Restart the app. It will automatically detect the secrets and switch to Live Mode.

---

## ðŸ“‚ Project Structure

```
dhaba_app/
â”œâ”€â”€ app.py                  # Main application entry point (UI logic)
â”œâ”€â”€ google_sheets_client.py # Data layer (Mock + GSheets implementation)
â”œâ”€â”€ utils.py                # Helper functions (QR Code generation)
â”œâ”€â”€ requirements.txt        # Project dependencies
â””â”€â”€ .streamlit/
    â””â”€â”€ secrets.toml        # API credentials (keep private!)
```

## ðŸ”® Future Roadmap
- [ ] WhatsApp Notification integration for Order Ready alerts.
- [ ] Daily/Weekly Sales Report PDF export.
- [ ] UP/Payment Gateway link generation.
